<!DOCTYPE html>

<html>
    <head>
        <meta charset = "UTF-8">
        <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
        <title>Random</title>
        <style>
            .show {
                width: 30%;
                height: 500px;
                overflow: scroll;
            }   
            .last {
                text-align: center;
                font-size: 50px;
            }
        </style>
        <script>
            var list, result, person;
            var amount, enter, random;

            function generate()
            {
                list.innerHTML = '';
                if (isNaN(amount.value)) window.alert('Please input number');
                else {
                    for (var i = 0; i < parseInt(amount.value); i++) {
                        var s = '';
                        s += '<div>';
                        s += '第' + (i + 1) + '人姓名: ';
                        s += '<input id = "num' + i + '" type = "text" value = "Person' + (i + 1) + '">';
                        s += '</div>';
                        list.innerHTML += s;
                    }
                }
                random.disabled = false;
            }

            function select()
            {
                if (isNaN(amount.value)) window.alert('Please input number');
                else {
                    person = document.getElementById('num' + Math.floor(Math.random() * amount.value));
                    result.innerHTML = '當選人: ' + person.value;
                }
            }

            function start()
            {
                list = document.getElementById('list');
                amount = document.getElementById('amount');
                enter = document.getElementById('enter');
                random = document.getElementById('random');
                result = document.getElementById('result');
                enter.addEventListener('click', generate, false);
                random.addEventListener('click', select, false);
                random.disabled = true;
            }

            window.addEventListener('load', start, false);
        </script>
    </head>
    <body>
        <h1>選人</h1>
        <form action = '#'>
            <div>
                人數: <input id = 'amount' type = 'text' value = '1'>
                <input id = 'enter' type = 'button' value = '確定'>
                <input id = 'random' type = 'button' value = '選人'>
            </div>
            <br>
            <div id = 'list' class = 'show'></div>
        </form>
        <div id = 'result' class = 'last'></div>
    </body>
</html>